<!DOCTYPE html>
<html lang="en">
    <head>
        <title>EthanBlaisAlarms Password Utility</title>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="css/styles.css">
        
        <link rel="shortcut icon" href="images/favicon.ico">
    </head>
    <body>
        
        <header>
            <a href="index.html"><img src="images/eba.png" alt="EthanBlaisAlarms logo"></a>
        </header>
        
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About EBA</a></li>
                <li><a href="videos.html">Videos</a></li>
                <li><a href="docs/index.html">Documents and Tutorials</a></li>
                <li><a href="contact.html">Contact EBA</a></li>
            </ul>
        </nav>
        
        <main>
            <h3>Password Utility</h3>
            <p>Please enter your desired password below. Site admins will not be able to see your password.</p>
            <form>
                <input class="textInput" id="password1" name="password1" type="password" placeholder="Create Password"><br>
                <input class="textInput" id="password2" name="password2" type="password" placeholder="Confirm Password"><br>
                <input id="submit" name="submit" type="button" value="Generate" onclick="generate(this.form)">
            </form>
            <p id="generated">Once you click "Generate" above, this message will change into the output. Please send the full output to the admin that set up your account. Make sure to send the full output, otherwise your password will not work.</p>
        </main>
        
        <footer>
            <p>&copy; Copyright EBA Software 2022<br>All Rights Reserved</p>
        </footer>
        
        <script src="scripts/hash.js"></script>
        <script>
            let copyText = ""
            function generate(form) {
                if (form.password1.value && form.password2.value) {
                    if (form.password1.value == form.password2.value) {
                        copyText = hash(form.password1.value).toString()
                        document.querySelector("#generated").innerHTML = `Please send the full output to the admin that set up your account. Make sure to send the full output, otherwise your password will not work.<br>Output: ${hash(form.password1.value)}<br><br><a href="#" onclick="navigator.clipboard.writeText(copyText)">Copy to clipboard</a>`
                    } else {
                        alert("ERROR: Passwords do not match.")
                    }
                } else {
                    alert("ERROR: All fields are required.")
                }
            }
        </script>
        
    </body>
</html>