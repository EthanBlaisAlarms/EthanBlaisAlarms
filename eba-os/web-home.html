<!DOCTYPE html>
<html lang="en">
    <head>
        <title>EBA OS - Web Home</title>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="../styles.css">
        
        <link rel="shortcut icon" href="../files/favicon.ico">

        <!-- Import Libraries -->
        <script type="text/javascript" src="../json2.js"></script>
    </head>
    <body>

        <div id="header">
            <a href="../index.html"><img src="../files/EBA.png" alt="EthanBlaisAlarms logo"></a>
        </div>
        
        <div id="nav">
            <ul>
                <li><a href="../index.html">Home</a></li>
                <li><a href="../videos.html">Videos</a></li>
                <li><a href="../software.html">Software Download</a></li>
                <li><a href="../contact.html">Contact EBA</a></li>
            </ul>
        </div>
        
        <div id="main">
            <noscript>
                <div class="msgbox error">
                    <h3>Heads up!</h3>
                    <p>This page uses JavaScript. However, it looks like JavaScript is disabled or not supported on your browser. If it's disabled, you should enable it. If your browser doesn't support it, consider an upgrade.</p>
                </div>
            </noscript>
            <h2>EBA OS Web Home</h2>
            <div id="error-noebaos" class="msgbox error">
                <h3>EBA OS Alert!</h3>
                <p>This page interacts with EBA OS directly. However, it doesn't look like you're viewing this page on EBA OS.</p>
            </div>
            <p>EBA OS Version: <span id="osVer">Unknown</span></p>
        </div>
        
        <div id="footer">
            <p>Property of EthanBlaisAlarms<br>&copy; Copyright EthanBlaisAlarms 2023<br>All Rights Reserved</p>
        </div>

        <script type="text/javascript">
            function loadEBAOS() {
                // Verify EBA OS
                if (window.location.search.indexOf('?ebaos=true') == -1) {
                    return document.getElementById('error-noebaos').style['display'] = 'block';
                }

                // Verify Data
                if (window.location.search.indexOf('&data=') == -1) { return; }
                var data = window.location.search.substring(window.location.search.indexOf('&data=') + 6, window.location.search.length);
                try {
                    data = JSON.parse(decodeURI(data));
                }
                catch (err) {
                    alert('Error: Invalid JSON data. ' + JSON.stringify(err));
                    return;
                }

                // Use Data
                if (data.version) { document.getElementById('osVer').innerHTML = data.version; }
            }

            loadEBAOS();
        </script>
    </body>
</html>